the 21-year-old gunman who killed two students before allegedly committing suicide inside a new mexico high school thursday disguised himself as a student to get inside, law enforcement officials said.

san juan county sheriff ken christesen said friday that the gunman, identified as william atchison, entered aztec high school around 8:00 a.m. local time with a backpack and a .9mm glock with multiple magazines on him. he was a former student at the high school.

christesen called the shooting a cowardly act and said atchison was determined to create as much carnage as he could.

this was a planned event, he said, adding the gun used in the shooting was purchased legally. "this person is not only a coward, he's evil."

he added: it's important to understand how focused he was, how deranged he was, in his intent.

state police chief pete kassetas said atchisons first victim was francisco i. fernandez, who had excused himself from class to go to the bathroom and was immediately shot.

kassetas said atchison then walked into the hallway, encountered casey j. marquez and killed her. atchison then walked up and down the hallway, firing randomly and into classrooms.

officials said they believe atchison eventually shot himself. they said the students killed were not targeted, but were at the "wrong place at the wrong time."

christesen said there were heroes at the school that helped save lives on thursday. he said a substitute teacher heard the gunshots but didnt have a key to lock the door to the computer lab. so instead she took students into an office or storage area and barricaded the door.

atchison, who was from aztex and worked at a local gas station, went into the room and yelled that he knew they were in there and then fired multiple shots into the room. a custodian also heard the gunshots and yelled for classrooms to lock their doors.

"their swift action saved a whole lot of lives and a lot of devastation," christesen said.

authorities said they also found a message in which atchison wrote that work, school and life were bad and he wanted out. it also included a timeline of what he had planned for that day.

part of the message said: work, packup, prep, walk, die.

christesen said they also found a thumb drive on atchison that had electronic notes that could provide more insight into the attack. he said it has been given to the fbi for investigation.

the fbi says it investigated the new mexico school shooter last year about online comments, though he said he had no plans for an attack at the time.

terry wade, fbi special agent in charge in albuquerque, said atchison made generic comments in a gaming forum and that he and his family were interviewed in march 2016.

"it was determined no crime was committed," he said, adding the investigation was closed

the shooting has rocked aztec, a community of about 6,500 near the colorado border. hundreds gathered for prayer services and candlelight vigils and more gatherings are planned over the weekend as residents look for answers.

new mexico gov. susana martinez said she spent the evening with the families of the victims and said it was amazing to see the unity from grownups, teachers, pastors, and to see unification of the community.

healing is beginning, she said, adding the state would cover the costs of the students' funeral services.

two gofundme pages have been created to help fernandez and marquezs families.

the associated press contributed to this report.