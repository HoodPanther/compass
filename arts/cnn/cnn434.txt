the tax bills passed by the house and the now the senate include slightly more generous benefits for parents. unless their children are undocumented immigrants.

currently, non-citizens filing taxes using an individual taxpayer identification number, or itin, are allowed to claim the child tax credit, which gives back up to $1,000 per child under age 17. in tax year 2013, according to the government accountability office, 4.4 million itin filers claimed child tax credits worth $6 billion.

under both the house and senate versions of the republican tax bill, itin filers  most of whom are undocumented  would need to provide social security numbers for each child in order to claim the refundable part of the credit, which kicks in when the credit exceeds the filer's total tax liability. the senate version would require an social security number for the regular credit as well.

according to samantha vargas poppe of the latino advocacy group unidosus, the change would directly impact about a million undocumented children. but it could also hurt those born in the united states whose non-citizen siblings are no longer eligible for the credit. that income hit would impact the whole family.

related: here's what's in the senate's tax bill -- and how it differs from the house's

"these credits keep folks out of poverty," poppe says. "it's just not a place for immigration enforcement. these are kids."

undocumented immigrants and their employers paid about $13 billion in payroll taxes in 2010, the most recent year for which the social security administration has released figures. many also pay social security taxes, sales taxes, and property taxes, but are not eligible for most federal programs, including social security, medicare, medicaid or subsidies under the affordable care act.

for u.s. citizens, the house bill increases the value of the child tax credit from $1,000 to $1,600. the senate bill doubles it to $2,000. both bills increase the income threshold at which taxpayers will be eligible to claim it.

in addition, the house bill tightens up the rules for the earned income tax credit in such a way that immigrants covered by the deferred action for childhood arrivals program will no longer be able to receive the credit when their work authorization expires. the trump administration announced in september its decision to terminate the program, which means those immigrants will lose their protected status over the next few years unless congress intervenes.

the house bill would also require a social security number for the american opportunity tax credit, which is worth $2,500 annually towards the first four years of higher education expenses. in 2013, itin filers claimed $204 million through this credit.

the senate bill makes no changes to these credits.

related: 13 ways the tax bills would affect people

conservatives have long sought these restrictions, which they say are necessary to guard against tax fraud. the anti-immigration center for immigration studies has also argued that allowing undocumented immigrants to receive refundable tax credits violates provisions of the welfare reforms of 1996 that prohibit undocumented immigrants from receiving most federal benefits.

luke messer, a republican representative for indiana, introduced legislation that would have eliminated child tax credit eligibility for itin filers earlier this year.

"we can't continue to reward people who come to our country illegally, while those who work hard and play by the rules struggle to get ahead," he said in a press release in october pushing for the bill's inclusion in tax reform measures.

democrats and a long list of immigrants rights advocacy groups have opposed carving undocumented children out of the child tax credit, saying it will increase child poverty.

correction: luke messer is a republican representative from indiana. an earlier version of this story said he represented illinois.